create user tripdiary identified by 1234;
grant connect, resource to tripdiary;
grant unlimited tablespace to tripdiary;
grant create any table to tripdiary;
grant create sequence to tripdiary;
commit;

CREATE TABLE member (
	member_num	number		NOT NULL,
	id	varchar2(50)	unique	NOT NULL,
	password	varchar2(50)		NOT NULL,
	nickname	varchar2(50)	unique	NOT NULL,
	email	varchar2(50)	unique	NOT NULL,
	birth_year	varchar2(6)		NOT NULL,
	birth	varchar2(6)		NOT NULL,
	regdate	timestamp	DEFAULT sysdate	NOT NULL,
	gender	varchar2(10)		NOT NULL,
	admin	number	DEFAULT 0	NOT NULL
);

CREATE TABLE board (
	board_num	number		NOT NULL,
	member_num	number		NOT NULL,
	place	varchar2(50)		NOT NULL,
	content	varchar2(2000)		NULL,
	regdate	timestamp	DEFAULT sysdate	NOT NULL,
	tripdate	date		NOT NULL,
	td_like_cnt	number	DEFAULT 0	NULL
);

CREATE TABLE tag (
	tag_num	number		NOT NULL,
	board_num	number		NOT NULL,
	tag	varchar2(20)		NULL
);

CREATE TABLE board_img (
	board_img_num	number		NOT NULL,
	board_num	number		NOT NULL,
	org_file_name	varchar2(260)		NOT NULL,
	store_file_name	varchar2(36)		NOT NULL,
	file_size	number		NOT NULL,
	file_type	varchar2(10)		NOT NULL,
	main_img	number		NOT NULL
);

CREATE TABLE profile (
	profile_num	number		NOT NULL,
	member_num	number		NOT NULL,
	message	varchar2(100)	DEFAULT '상태메세지를 입력해주세요'	NOT NULL,
	emblem_name	varchar2(50)		NULL
);

CREATE TABLE profile_img (
	profile_img_num	number		NOT NULL,
	member_num	number		NOT NULL,
	org_file_name	varchar2(260)		NOT NULL,
	store_file_name	varchar2(36)		NOT NULL,
	file_size	number		NOT NULL,
	file_type	varchar2(10)		NOT NULL
);

CREATE TABLE map (
	map_num	number		NOT NULL,
	member_num	number		NOT NULL,
	marker_lon	number		NOT NULL,
	marker_lat	number		NOT NULL,
	marker_text	varchar2(50)		NOT NULL
);

CREATE TABLE emblem (
	emblem_num	number		NOT NULL,
	emblem_name	varchar2(50)	UNIQUE	NOT NULL,
	emblem_explain	varchar2(100)		NOT NULL
);

CREATE TABLE emblem_get (
	emblem_get_num	number		NOT NULL,
	member_num	number		NOT NULL,
	emblem_num	number		NOT NULL
);

CREATE TABLE chatting (
	chatting_num	number		NOT NULL,
	chatting_send	varchar2(50)		NOT NULL,
	chatting_receive	varchar2(50)		NOT NULL,
	chatting_date	timestamp	DEFAULT sysdate	NOT NULL,
	chatting_content	varchar2(200)		NOT NULL
);

CREATE TABLE reply (
	reply_num	number		NOT NULL,
	board_num	number		NOT NULL,
	member_num	number		NOT NULL,
	content	varchar2(200)		NOT NULL,
	regdate	timestamp	DEFAULT sysdate	NOT NULL
);

CREATE TABLE report_member (
	report_member_num	number		NOT NULL,
	member_num	number		NOT NULL,
	report_type	varchar2(100)		NOT NULL
);

CREATE TABLE report_reply (
	report_reply_num	number		NOT NULL,
	reply_num	number		NOT NULL,
	reply_content	varchar2(200)		NOT NULL,
	report_send	varchar2(50)		NOT NULL,
	report_receive	varchar2(50)		NOT NULL,
	report_content	varchar2(100)		NOT NULL,
	report_type	varchar2(100)		NOT NULL,
	report_date	timestamp	DEFAULT sysdate	NOT NULL
);

CREATE TABLE report_board (
	report_board_num	number		NOT NULL,
	board_num	number		NOT NULL,
	report_send	varchar2(50)		NOT NULL,
	report_receive	varchar2(50)		NOT NULL,
	report_type	varchar2(100)		NOT NULL,
	report_content	varchar2(100)		NOT NULL,
	report_date	timestamp	DEFAULT sysdate	NOT NULL
);

CREATE TABLE pick (
	pick_num	number		NOT NULL,
	member_num	number		NOT NULL,
	board_num	number		NOT NULL,
	pick_regdate	timestamp	DEFAULT sysdate	NOT NULL
);

CREATE TABLE td_like (
	td_like_num	number		NOT NULL,
	member_num	number		NOT NULL,
	board_num	number		NOT NULL
);

CREATE TABLE report_cnt (
	repoty_cnt_num	number		NOT NULL,
	member_num	number	UNIQUE	NOT NULL,
	report_com_cnt	number	DEFAULT 0	NOT NULL,
	report_cnt	number	DEFAULT 0	NOT NULL,
	warning_cnt	number	DEFAULT 0	NOT NULL
);

CREATE TABLE del_member (
	del_member_num	number		NOT NULL,
	member_num	number		NOT NULL,
	member_id	varchar2(50)	UNIQUE	NOT NULL,
	timeover	number		DEFAULT 0 NOT NULL,
	del_date	timestamp	DEFAULT 0	NOT NULL
);

CREATE TABLE member_act_cnt (
	member_act_cnt	number	NOT NULL,
	member_num	number	DEFAULT 0	NOT NULL,
	td_like_press_cnt	number	DEFAULT 0	NOT NULL,
	pick_press_cnt	number	DEFAULT 0	NOT NULL,
	board_write_cnt	number	DEFAULT 0	NOT NULL,
	reply_write_cnt	number	DEFAULT 0	NOT NULL,
	td_like_receive_cnt	number	DEFAULT 0	NOT NULL
);

create sequence member_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence board_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence tag_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence board_img_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence profile_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence profile_img_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence map_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence emblem_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence emblem_get_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence chatting_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence reply_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence report_member_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence report_reply_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence report_board_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence pick_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence td_like_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence report_cnt_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence del_member_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

create sequence member_act_cnt_seq
start with 1
increment by 1
nomaxvalue
nocycle
nocache;

insert into BOARD values (board_seq.nextval, 1, 'sejong', '테스트확인1', sysdate, '2021-08-05', 0);
insert into BOARD values (board_seq.nextval, 1, 'busan', '테스트확인2', sysdate, '2021-09-06', 0);
insert into BOARD values (board_seq.nextval, 2, 'seoul', '테스트확인3', sysdate, '2021-10-12', 0);
insert into BOARD values (board_seq.nextval, 3, 'busan', '테스트확인4', sysdate, '2021-10-21', 0);
insert into BOARD values (board_seq.nextval, 3, 'gyeongbuk', '테스트확인5', sysdate, '2021-07-24', 0);
insert into BOARD values (board_seq.nextval, 4, 'seoul', '테스트확인6', sysdate, '2021-05-22', 0);
insert into BOARD values (board_seq.nextval, 4, 'gyeonggi', '테스트확인7', sysdate, '2021-10-15', 0);
insert into BOARD values (board_seq.nextval, 4, 'seoul', '테스트확인8', sysdate, '2021-06-16', 0);
insert into BOARD values (board_seq.nextval, 5, 'abroad', '테스트확인9', sysdate, '2021-10-15', 0);
insert into BOARD values (board_seq.nextval, 6, 'seoul', '테스트확인10', sysdate, '2021-06-24', 0);
insert into BOARD values (board_seq.nextval, 6, 'gyeonggi', '테스트확인11', sysdate, '2021-10-29', 0);
insert into BOARD values (board_seq.nextval, 7, 'seoul', '테스트확인12', sysdate, '2021-05-27', 0);
insert into BOARD values (board_seq.nextval, 7, 'abroad', '테스트확인13', sysdate, '2021-04-05', 0);
insert into BOARD values (board_seq.nextval, 7, 'seoul', '테스트확인14', sysdate, '2021-08-15', 0);
insert into BOARD values (board_seq.nextval, 8, 'incheon', '테스트확인15', sysdate, '2021-09-11', 0);
insert into BOARD values (board_seq.nextval, 9, 'seoul', '테스트확인16', sysdate, '2021-08-16', 0);
insert into BOARD values (board_seq.nextval, 9, 'incheon', '테스트확인17', sysdate, '2021-07-28', 0);
insert into BOARD values (board_seq.nextval, 9, 'seoul', '테스트확인18', sysdate, '2021-07-02', 0);
insert into BOARD values (board_seq.nextval, 10, 'seoul', '테스트확인19', sysdate, '2021-10-18', 0);
insert into BOARD values (board_seq.nextval, 10, 'chungbuk', '테스트확인20', sysdate, '2021-10-20', 0);

insert into MEMBER values (member_seq.nextval, 'tester1', '1234', 'nick001', 'tester1@gmail.com', '1996', '1010', sysdate, 'male', 0);
insert into MEMBER values (member_seq.nextval, 'tester2', '1234', 'nick002', 'tester2@gmail.com', '1997', '0911', sysdate, 'female', 0);
insert into MEMBER values (member_seq.nextval, 'tester3', '1234', 'nick003', 'tester3@gmail.com', '1998', '1231', sysdate, 'male', 0);
insert into MEMBER values (member_seq.nextval, 'tester4', '1234', 'nick004', 'tester4@gmail.com', '1998', '1111', sysdate, 'male', 0);
insert into MEMBER values (member_seq.nextval, 'tester5', '1234', 'nick005', 'tester5@gmail.com', '1996', '0215', sysdate, 'female', 0);
insert into MEMBER values (member_seq.nextval, 'tester6', '1234', 'nick006', 'tester6@gmail.com', '1999', '0506', sysdate, 'male', 0);
insert into MEMBER values (member_seq.nextval, 'tester7', '1234', 'nick007', 'tester7@gmail.com', '1997', '0708', sysdate, 'female', 0);
insert into MEMBER values (member_seq.nextval, 'tester8', '1234', 'nick008', 'tester8@gmail.com', '1993', '1119', sysdate, 'male', 0);
insert into MEMBER values (member_seq.nextval, 'tester9', '1234', 'nick009', 'tester9@gmail.com', '1995', '1026', sysdate, 'female', 0);
insert into MEMBER values (member_seq.nextval, 'tester10', '1234', 'nick010', 'tester10@gmail.com', '1996', '0829', sysdate, 'female', 0);

insert into BOARD_IMG values (board_img_seq.nextval, 1, 'org1', 'store1', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 1, 'org2', 'store2', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 1, 'org3', 'store3', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 1, 'org4', 'store4', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 2, 'org5', 'store5', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 2, 'org6', 'store6', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 3, 'org7', 'store7', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 3, 'org8', 'store8', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 3, 'org9', 'store9', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 3, 'org10', 'store10', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 4, 'org11', 'store11', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 4, 'org12', 'store12', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 4, 'org13', 'store13', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 5, 'org14', 'store14', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 6, 'org15', 'store15', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 6, 'org16', 'store16', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 6, 'org17', 'store17', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 6, 'org18', 'store18', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 7, 'org19', 'store19', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 7, 'org20', 'store20', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 8, 'org21', 'store21', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 8, 'org22', 'store22', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 9, 'org23', 'store23', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 9, 'org24', 'store24', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 9, 'org25', 'store25', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 10, 'org26', 'store26', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 10, 'org27', 'store27', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 10, 'org28', 'store28', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 10, 'org29', 'store29', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 11, 'org30', 'store30', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 11, 'org31', 'store31', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 11, 'org32', 'store32', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 12, 'org33', 'store33', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 12, 'org34', 'store34', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 13, 'org35', 'store35', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 14, 'org36', 'store36', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 14, 'org37', 'store37', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 15, 'org38', 'store38', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 15, 'org39', 'store39', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 16, 'org40', 'store40', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 16, 'org41', 'store41', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 16, 'org42', 'store42', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 17, 'org43', 'store43', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 18, 'org44', 'store44', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 18, 'org45', 'store45', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 18, 'org46', 'store46', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 19, 'org47', 'store47', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 20, 'org48', 'store48', 123456, 'jpg', 1);
insert into BOARD_IMG values (board_img_seq.nextval, 20, 'org49', 'store49', 123456, 'jpg', 0);
insert into BOARD_IMG values (board_img_seq.nextval, 20, 'org50', 'store50', 123456, 'jpg', 0);

insert into PICK values (pick_seq.nextval, 1, 1, sysdate);
insert into PICK values (pick_seq.nextval, 1, 2, sysdate);
insert into PICK values (pick_seq.nextval, 1, 6, sysdate);
insert into PICK values (pick_seq.nextval, 2, 1, sysdate);
insert into PICK values (pick_seq.nextval, 2, 20, sysdate);
insert into PICK values (pick_seq.nextval, 3, 11, sysdate);
insert into PICK values (pick_seq.nextval, 3, 12, sysdate);
insert into PICK values (pick_seq.nextval, 3, 9, sysdate);
insert into PICK values (pick_seq.nextval, 3, 14, sysdate);
insert into PICK values (pick_seq.nextval, 3, 6, sysdate);
insert into PICK values (pick_seq.nextval, 4, 4, sysdate);
insert into PICK values (pick_seq.nextval, 4, 3, sysdate);
insert into PICK values (pick_seq.nextval, 4, 20, sysdate);
insert into PICK values (pick_seq.nextval, 5, 12, sysdate);
insert into PICK values (pick_seq.nextval, 5, 14, sysdate);
insert into PICK values (pick_seq.nextval, 6, 13, sysdate);
insert into PICK values (pick_seq.nextval, 6, 16, sysdate);
insert into PICK values (pick_seq.nextval, 6, 14, sysdate);
insert into PICK values (pick_seq.nextval, 7, 8, sysdate);
insert into PICK values (pick_seq.nextval, 7, 9, sysdate);
insert into PICK values (pick_seq.nextval, 7, 15, sysdate);
insert into PICK values (pick_seq.nextval, 8, 7, sysdate);
insert into PICK values (pick_seq.nextval, 8, 16, sysdate);
insert into PICK values (pick_seq.nextval, 8, 17, sysdate);
insert into PICK values (pick_seq.nextval, 9, 11, sysdate);
insert into PICK values (pick_seq.nextval, 9, 1, sysdate);
insert into PICK values (pick_seq.nextval, 9, 4, sysdate);
insert into PICK values (pick_seq.nextval, 10, 14, sysdate);
insert into PICK values (pick_seq.nextval, 10, 13, sysdate);
insert into PICK values (pick_seq.nextval, 10, 18, sysdate);

insert into emblem values (1, '좋아요 한 스푼', '좋아요 1번 누르기');
insert into emblem values (2, '취향 존중!', '좋아요 10번 누르기');
insert into emblem values (3, '만인의 연인', '좋아요 100번 누르기');
insert into emblem values (4, '여기 가볼까?!', 'pick 1번 하기');
insert into emblem values (5, '방구석 여행가', 'pick 10번 하기');
insert into emblem values (6, '핫플 수집가', 'pick 100번 하기');
insert into emblem values (7, '첫 여행지', '글 1번 작성하기');
insert into emblem values (8, '베태랑 모험가', '글 10번 작성하기');
insert into emblem values (9, '서바이벌 전문가', '글 100번 작성하기');
insert into emblem values (10, '소통의 시작', '댓글 1번 작성하기');
insert into emblem values (11, '분위기 메이커', '댓글 10번 작성하기');
insert into emblem values (12, '프로 공감러', '댓글 100번 작성하기');
insert into emblem values (13, '나 좋아하나봐!', '좋아요 1번 받기');
insert into emblem values (14, '매력 발산중', '좋아요 10번 받기');
insert into emblem values (15, '인플루언서!', '좋아요 100번 받기');

insert into profile values(profile_seq.nextval, 10, '프로필 사진을 클릭하여 상태메세지를 입력하세요!', '');
insert into profile values(profile_seq.nextval, 11, '프로필 사진을 클릭하여 상태메세지를 입력하세요!', '');
insert into profile values(profile_seq.nextval, 12, '프로필 사진을 클릭하여 상태메세지를 입력하세요!', '');

insert into profile_img values(profile_img_seq.nextval, 10, '0', 'default', '0', '.png');
insert into profile_img values(profile_img_seq.nextval, 11, '0', 'default', '0', '.png');
insert into profile_img values(profile_img_seq.nextval, 12, '0', 'default', '0', '.png');